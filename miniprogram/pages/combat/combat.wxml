<wxs src="./combat.wxs" module="utils" />

<header>
  <view slot="content" class="header">
    <image class="header-icon touch" catchtap="onBack" src="./../../images/combat-back.png" />

    <text class="header-title">{{utils.formatTitle($state.combat)}}</text>

  </view>
</header>

<!-- 好友对战的邀请好友、加入对战、开始对战、退出对战场景 -->
<friend-scene wx:if="{{$state.combat.type === 'friend' && ($state.combat.state === 'create' || $state.combat.state === 'ready')}}" />

<!-- 正式开始对战 -->
<pk-scene id="pkScene" wx:if="{{$state.combat.state === 'start'}}" />

<!-- 对战结算 -->
<settle-scene wx:if="{{$state.combat.state === 'end'}}" />

<!-- 加载 -->
<loading id="loading"/>

<!-- 弹窗 -->
<toast id="toast" />
